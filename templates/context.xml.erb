<?xml version='1.0' encoding='utf-8'?>
<!-- The contents of this file will be loaded for each web application -->
<Context>

	<WatchedResource>WEB-INF/web.xml</WatchedResource>
<% if scope.lookupvar('tomcat6::resources') %>
	<Resource
	<% scope.lookupvar('tomcat6::resources').each_pair do |key, value_hash| %>
	   name="<%= value_hash['name'] %>"
	   auth="<%= value_hash['auth'] %>"
	   type="<%= value_hash['type'] %>"
	   driverClassName="<%= value_hash['driverClassName'] %>"
	   url="<%= value_hash['url'] %>"
	   username="<%= value_hash['username'] %>"
	   password="<%= value_hash['password'] %>"
	   maxActive="<%= value_hash['maxActive'] %>"
	   minIdle="<%= value_hash['minIdle'] %>"
	   maxIdle="<%= value_hash['maxIdle'] %>"
	   maxWait="<%= value_hash['maxWait'] %>"
	   minEvictableIdleTimeMillis="<%= value_hash['minEvictableIdleTimeMillis'] %>"
	   timeBetweenEvictionRunsMillis="<%= value_hash['timeBetweenEvictionRunsMillis'] %>"
	   numTestsPerEvictionRun="<%= value_hash['numTestsPerEvictionRun'] %>"
	   poolPreparedStatements="<%= value_hash['poolPreparedStatements'] %>"
	   maxOpenPreparedStatements="<%= value_hash['maxOpenPreparedStatements'] %>"
	   testOnBorrow="<%= value_hash['testOnBorrow'] %>"
	   accessToUnderlyingConnectionAllowed="<%= value_hash['accessToUnderlyingConnectionAllowed'] %>"
	   validationQuery="<%= value_hash['validationQuery'] %>"
    <% end %>
   />
<% end -%> 
</Context>